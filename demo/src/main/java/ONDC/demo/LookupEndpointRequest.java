package ONDC.demo;


import java.io.IOException;
import org.apache.http.HttpEntity;
import org.apache.http.HttpResponse;
import org.apache.http.client.HttpClient;
import org.apache.http.client.methods.HttpPost;
import org.apache.http.entity.ContentType;
import org.apache.http.entity.StringEntity;
import org.apache.http.impl.client.HttpClientBuilder;
import org.apache.http.util.EntityUtils;

public class LookupEndpointRequest {

  private static final String LOOKUP_ENDPOINT = "https://pilot-gateway-1.beckn.nsdl.co.in/on_search";
  private static final String PAYLOAD = "{\"context\": {\"domain\": \"nic2004:52110\",\"country\": \"IND\",\"city\": \"std:011\",\"action\": \"on_search\",\"core_version\": \"1.1.0\",\"bap_id\": \"buyerapp.com\",\"bap_uri\": \"https://buyerapp.com/ondc\",\"bpp_id\": \"sellerapp.com\",\"bpp_uri\": \"https://sellerapp.com/ondc\",\"transaction_id\": \"9fdb667c-76c6-456a-9742-ba9caa5eb765\",\"message_id\": \"1655281254860\",\"timestamp\": \"2023-04-25T08:00:37.245Z\"},\"message\": {\"catalog\": {\"bpp/fulfillments\": [{\"id\":1}, {\"id\":2}, {\"id\":3}],\"bpp/descriptor\": {\"name\": \"ABC store\",\"symbol\": \"https://abc.com/images/1-shop-img\",\"short_desc\": \"Online eCommerce Store\",\"long_desc\": \"Online eCommerce Store\",\"images\": [\"https://abc.com/images/shop-img\"]},\"bpp/providers\": [{\"id\":\"P1\"}],\"bpp/locations\": [{\"id\":\"L1\"}],\"bpp/items\": [{\"id\":\"I1\"}]}}}";

  public static void main(String[] args) {
	  try 
	  	{
	  	 //String jsonSignature="{\"context\": {\"domain\": \"nic2004:52110\",\"country\": \"IND\",\"city\": \"std:011\",\"action\": \"on_search\",\"core_version\": \"1.1.0\",\"bap_id\": \"buyerapp.com\",\"bap_uri\": \"https://buyerapp.com/ondc\",\"bpp_id\": \"sellerapp.com\",\"bpp_uri\": \"https://sellerapp.com/ondc\",\"transaction_id\": \"9fdb667c-76c6-456a-9742-ba9caa5eb765\",\"message_id\": \"1655281254860\",\"timestamp\": \"2023-04-25T08:00:37.245Z\"},\"message\": {\"catalog\": {\"bpp/fulfillments\": [{\"id\":1}, {\"id\":2}, {\"id\":3}],\"bpp/descriptor\": {\"name\": \"ABC store\",\"symbol\": \"https://abc.com/images/1-shop-img\",\"short_desc\": \"Online eCommerce Store\",\"long_desc\": \"Online eCommerce Store\",\"images\": [\"https://abc.com/images/shop-img\"]},\"bpp/providers\": [{\"id\":\"P1\"}],\"bpp/locations\": [{\"id\":\"L1\"}],\"bpp/items\": [{\"id\":\"I1\"}]}}}";
	       ////String jsonSignature = "vinculumgroup.com|292|ed25519";
	  	 
	  	   String jsonSignature="{\"context\":{\"domain\":\"nic2004:52110\",\"country\":\"string\",\"city\":\"string\",\"action\":\"search\",\"core_version\":\"string\",\"bap_id\":\"string\",\"bap_uri\":\"string\",\"bpp_id\":\"string\",\"bpp_uri\":\"string\",\"transaction_id\":\"string\",\"message_id\":\"string\",\"timestamp\":\"2023-04-26T07:39:54.408Z\",\"key\":\"string\",\"ttl\":\"string\"},\"message\":{\"catalog\":{\"bpp/descriptor\":{\"name\":\"string\",\"code\":\"string\",\"symbol\":\"string\",\"short_desc\":\"string\",\"long_desc\":\"string\",\"images\":[\"string\"],\"audio\":\"string\",\"3d_render\":\"string\"},\"bpp/categories\":[{\"id\":\"string\",\"parent_category_id\":\"string\",\"descriptor\":{\"name\":\"string\",\"code\":\"string\",\"symbol\":\"string\",\"short_desc\":\"string\",\"long_desc\":\"string\",\"images\":[\"string\"],\"audio\":\"string\",\"3d_render\":\"string\"},\"time\":{\"label\":\"string\",\"timestamp\":\"2023-04-26T07:39:54.408Z\",\"duration\":\"string\",\"range\":{\"start\":\"2023-04-26T07:39:54.408Z\",\"end\":\"2023-04-26T07:39:54.408Z\"},\"days\":\"string\",\"schedule\":{\"frequency\":\"string\",\"holidays\":[\"2023-04-26T07:39:54.408Z\"],\"times\":[\"2023-04-26T07:39:54.408Z\"]}},\"tags\":{\"additionalProp1\":\"string\",\"additionalProp2\":\"string\",\"additionalProp3\":\"string\"}}],\"bpp/payments\":[{\"uri\":\"string\",\"tl_method\":\"http/get\",\"params\":{\"transaction_id\":\"string\",\"transaction_status\":\"string\",\"amount\":\"-6036685140572458775699687538707821693196538141614215635419092930391843221731723865865738939276355906\",\"currency\":\"string\",\"additionalProp1\":\"string\",\"additionalProp2\":\"string\",\"additionalProp3\":\"string\"},\"type\":\"ON-ORDER\",\"status\":\"PAID\",\"time\":{\"label\":\"string\",\"timestamp\":\"2023-04-26T07:39:54.414Z\",\"duration\":\"string\",\"range\":{\"start\":\"2023-04-26T07:39:54.414Z\",\"end\":\"2023-04-26T07:39:54.414Z\"},\"days\":\"string\",\"schedule\":{\"frequency\":\"string\",\"holidays\":[\"2023-04-26T07:39:54.414Z\"],\"times\":[\"2023-04-26T07:39:54.414Z\"]}},\"collected_by\":\"BAP\",\"@ondc/org/collected_by_status\":\"Assert\",\"@ondc/org/buyer_app_finder_fee_type\":\"Amount\",\"@ondc/org/buyer_app_finder_fee_amount\":\"8683500573692125369438559577947578120749765733673224931564924551445478442027322260\",\"@ondc/org/withholding_amount\":\"-9995531500460183189172104508363842334298082672328897210228.9402939130650304286498301406444861783554540430284243973807367572382807\",\"@ondc/org/withholding_amount_status\":\"Assert\",\"@ondc/org/return_window\":\"string\",\"@ondc/org/return_window_status\":\"Assert\",\"@ondc/org/settlement_basis\":\"Collection\",\"@ondc/org/settlement_basis_status\":\"Assert\",\"@ondc/org/settlement_window\":\"string\",\"@ondc/org/settlement_window_status\":\"Assert\",\"@ondc/org/settlement_details\":[{\"settlement_counterparty\":\"buyer\",\"settlement_phase\":\"sale-amount\",\"settlement_amount\":0,\"settlement_type\":\"neft\",\"settlement_bank_account_no\":\"string\",\"settlement_ifsc_code\":\"string\",\"upi_address\":\"string\",\"bank_name\":\"string\",\"branch_name\":\"string\",\"beneficiary_name\":\"string\",\"beneficiary_address\":\"string\",\"settlement_status\":\"PAID\",\"settlement_reference\":\"string\",\"settlement_timestamp\":\"2023-04-26T07:39:54.414Z\"}]}],\"bpp/offers\":[{\"id\":\"string\",\"descriptor\":{\"name\":\"string\",\"code\":\"string\",\"symbol\":\"string\",\"short_desc\":\"string\",\"long_desc\":\"string\",\"images\":[\"string\"],\"audio\":\"string\",\"3d_render\":\"string\"},\"location_ids\":[\"string\"],\"category_ids\":[\"string\"],\"item_ids\":[\"string\"],\"time\":{\"label\":\"string\",\"timestamp\":\"2023-04-26T07:39:54.414Z\",\"duration\":\"string\",\"range\":{\"start\":\"2023-04-26T07:39:54.414Z\",\"end\":\"2023-04-26T07:39:54.414Z\"},\"days\":\"string\",\"schedule\":{\"frequency\":\"string\",\"holidays\":[\"2023-04-26T07:39:54.414Z\"],\"times\":[\"2023-04-26T07:39:54.414Z\"]}}}],\"bpp/providers\":[{\"id\":\"string\",\"descriptor\":{\"name\":\"string\",\"code\":\"string\",\"symbol\":\"string\",\"short_desc\":\"string\",\"long_desc\":\"string\",\"images\":[\"string\"],\"audio\":\"string\",\"3d_render\":\"string\"},\"category_id\":\"string\",\"@ondc/org/fssai_license_no\":\"string\",\"rating\":5,\"time\":{\"label\":\"string\",\"timestamp\":\"2023-04-26T07:39:54.414Z\",\"duration\":\"string\",\"range\":{\"start\":\"2023-04-26T07:39:54.414Z\",\"end\":\"2023-04-26T07:39:54.414Z\"},\"days\":\"string\",\"schedule\":{\"frequency\":\"string\",\"holidays\":[\"2023-04-26T07:39:54.414Z\"],\"times\":[\"2023-04-26T07:39:54.414Z\"]}},\"categories\":[{\"id\":\"string\",\"parent_category_id\":\"string\",\"descriptor\":{\"name\":\"string\",\"code\":\"string\",\"symbol\":\"string\",\"short_desc\":\"string\",\"long_desc\":\"string\",\"images\":[\"string\"],\"audio\":\"string\",\"3d_render\":\"string\"},\"time\":{\"label\":\"string\",\"timestamp\":\"2023-04-26T07:39:54.414Z\",\"duration\":\"string\",\"range\":{\"start\":\"2023-04-26T07:39:54.414Z\",\"end\":\"2023-04-26T07:39:54.414Z\"},\"days\":\"string\",\"schedule\":{\"frequency\":\"string\",\"holidays\":[\"2023-04-26T07:39:54.414Z\"],\"times\":[\"2023-04-26T07:39:54.414Z\"]}},\"tags\":{\"additionalProp1\":\"string\",\"additionalProp2\":\"string\",\"additionalProp3\":\"string\"}}],\"fulfillments\":[{\"id\":\"string\",\"type\":\"Delivery\",\"@ondc/org/category\":\"string\",\"@ondc/org/TAT\":\"string\",\"provider_id\":\"string\",\"@ondc/org/provider_name\":\"string\",\"rating\":5,\"state\":{\"descriptor\":{\"name\":\"string\",\"code\":\"string\",\"symbol\":\"string\",\"short_desc\":\"string\",\"long_desc\":\"string\",\"images\":[\"string\"],\"audio\":\"string\",\"3d_render\":\"string\"},\"updated_at\":\"2023-04-26T07:39:54.414Z\",\"updated_by\":\"string\"},\"tracking\":false,\"customer\":{\"person\":{\"name\":\"./NVJ(+X^gGp4@VuH{Oq-NO;_/Wxm<|db+y=Lh\\\"j=n0tup\\\"`{wx&^C*,(/]j,fC~-)}6vm>LYw-V<iDlZ{xEtflQ9@s\\\\IttoyX%[+O{o2JMV'uX/!nABj0[@2?sQ')0Uc%70QzUQ~gdxbnkoc`.H,DjZQJ/!aPc\\\\`JG>g^7Y\\\\ZMhpEe^QtBA%_/\\\\5l!(?S[\\\";_,qk;}8>_}-*M{IFPUXeX#5V.#].hUSg5;{VM&gJ^7w7O23N5U&\\\"<ARU9W\",\"image\":\"string\",\"dob\":\"2023-04-26\",\"gender\":\"string\",\"cred\":\"string\",\"tags\":{\"additionalProp1\":\"string\",\"additionalProp2\":\"string\",\"additionalProp3\":\"string\"}},\"contact\":{\"phone\":\"string\",\"email\":\"string\",\"tags\":{\"additionalProp1\":\"string\",\"additionalProp2\":\"string\",\"additionalProp3\":\"string\"}}},\"agent\":{\"name\":\"./#V)2%hT455vUhf_`ame>1hN};d^CPr^pU\\\"E2iAy+dL*s@')2+\\\\1k-;[Yf7i7{HSTwq%r4&J=Ym9JaBSVxOVb9OY;YK[U75a$}C/F6:\\\"vyP4Lxx/}u'S.S4`ywl?+]M\\\\81#fkQ{b7=]*4rTt!}tG}=xR8xs(1IqFb~+'NqGi^sj,b=|64/YRo-g9/H=NZ_BhA6=9EO>\\\"oZ=`^w$_Ihy6fOGQ~k;?y^X+K!rq.-X_u8=Bx~Z.t1t=[pofkR(eowl~.QJSe\\\\:/62CBll6]bNZ]tbK|kSU-BJI^ANOa!d8DH3Wc~q4]a:odAZj=.|p8l`>I<2TcJ8+CP@^\\\"K-~F`_qMgQKK4Kn!E\",\"image\":\"string\",\"dob\":\"2023-04-26\",\"gender\":\"string\",\"cred\":\"string\",\"tags\":{\"additionalProp1\":\"string\",\"additionalProp2\":\"string\",\"additionalProp3\":\"string\"},\"phone\":\"string\",\"email\":\"string\",\"rateable\":true},\"person\":{\"name\":\"./*chc<{XWU5P7ze,]aRRyhY98R)Mjy[N.*@&IWGLMtJ!o3x\\\"N4K3A7K*FR/9o4;,utju0z$-Zz|y{k'Wqlg\\\\ay9\\\\Yzp{J;JR<|X*q>W__gKR\\\\PF5{D{-[+x~/fwT~Q`dBGgrv.WVlfU\\\\VLMdNs}#|5[gl?fp)7XK`ki~Csp<CDfpb&dnue]]#d$enFc_%j/et&D(1h|~C4>ceKNXTYJeLp^32,Q}AVt*d9:(@0aKN<a)9tw?yT\\\\4_JYa1-j'3%ai[J%6[h`)6.V\\\\Wai+1*U_=F]yr(Y/2T4{{[8Tv=<Qvn3*5-`Cvfyk6~?fP5+yo0\\\"j=2eU$wC%u>}xl8L'|rz@pF&Kc^u}.mRxuksWq+r(tf~/:)QG4Aa$P8dun9s]s`sZ\\\\-i&ELt%R?Cuquy7^D1+WP`RJCI<orTpgoQtH}mx'UBLKlP6\\\"9U\\\\\\\"#Kk!oZ%Cc*Cu10h1iCTGR\",\"image\":\"string\",\"dob\":\"2023-04-26\",\"gender\":\"string\",\"cred\":\"string\",\"tags\":{\"additionalProp1\":\"string\",\"additionalProp2\":\"string\",\"additionalProp3\":\"string\"}},\"contact\":{\"phone\":\"string\",\"email\":\"string\",\"tags\":{\"additionalProp1\":\"string\",\"additionalProp2\":\"string\",\"additionalProp3\":\"string\"}},\"vehicle\":{\"category\":\"string\",\"capacity\":0,\"make\":\"string\",\"model\":\"string\",\"size\":\"string\",\"variant\":\"string\",\"color\":\"string\",\"energy_type\":\"string\",\"registration\":\"string\"},\"start\":{\"location\":{\"id\":\"string\",\"descriptor\":{\"name\":\"string\",\"code\":\"string\",\"symbol\":\"string\",\"short_desc\":\"string\",\"long_desc\":\"string\",\"images\":[\"string\"],\"audio\":\"string\",\"3d_render\":\"string\"},\"gps\":\"90.000000000000000000,+5.553198661500104300329501381\",\"address\":{\"door\":\"string\",\"name\":\"string\",\"building\":\"string\",\"street\":\"string\",\"locality\":\"string\",\"ward\":\"string\",\"city\":\"string\",\"state\":\"string\",\"country\":\"string\",\"area_code\":\"string\"},\"station_code\":\"string\",\"city\":{\"name\":\"string\",\"code\":\"string\"},\"country\":{\"name\":\"string\",\"code\":\"string\"},\"circle\":{\"gps\":\"58.45930180025545646405125069579374273860825640390166510799143,171.1615691261163105101419502994287536107212819\",\"radius\":{\"type\":\"CONSTANT\",\"value\":0,\"estimated_value\":0,\"computed_value\":0,\"range\":{\"min\":0,\"max\":0},\"unit\":\"string\"}},\"polygon\":\"string\",\"3dspace\":\"string\",\"time\":{\"label\":\"string\",\"timestamp\":\"2023-04-26T07:39:54.416Z\",\"duration\":\"string\",\"range\":{\"start\":\"2023-04-26T07:39:54.416Z\",\"end\":\"2023-04-26T07:39:54.416Z\"},\"days\":\"string\",\"schedule\":{\"frequency\":\"string\",\"holidays\":[\"2023-04-26T07:39:54.416Z\"],\"times\":[\"2023-04-26T07:39:54.416Z\"]}}},\"time\":{\"label\":\"string\",\"timestamp\":\"2023-04-26T07:39:54.416Z\",\"duration\":\"string\",\"range\":{\"start\":\"2023-04-26T07:39:54.416Z\",\"end\":\"2023-04-26T07:39:54.416Z\"},\"days\":\"string\",\"schedule\":{\"frequency\":\"string\",\"holidays\":[\"2023-04-26T07:39:54.416Z\"],\"times\":[\"2023-04-26T07:39:54.416Z\"]}},\"instructions\":{\"name\":\"string\",\"code\":\"string\",\"symbol\":\"string\",\"short_desc\":\"string\",\"long_desc\":\"string\",\"images\":[\"string\"],\"audio\":\"string\",\"3d_render\":\"string\"},\"contact\":{\"phone\":\"string\",\"email\":\"string\",\"tags\":{\"additionalProp1\":\"string\",\"additionalProp2\":\"string\",\"additionalProp3\":\"string\"}},\"person\":{\"name\":\"./\\\"V4b76yDDU!%+j~/>]&`TuS)3t#2camD[}k|D#!-\\\"H;R]WO<$i'm8IF_nN{#6C4[2g&F<e/z]jPPCd_(d>ivmCQglzjIp:Eqz|Z^T,/bmA(><^UO,pJ`.x_6t\\\\>D7emR])-0jg=`\\\"H0qiM{>drx8|ZcwP0ai;/*>n/:a.q_0ccHLYiV@z(p=]i<5f(cl8I8nsGwo]`n-YR[@$j2xl\",\"image\":\"string\",\"dob\":\"2023-04-26\",\"gender\":\"string\",\"cred\":\"string\",\"tags\":{\"additionalProp1\":\"string\",\"additionalProp2\":\"string\",\"additionalProp3\":\"string\"}},\"authorization\":{\"type\":\"string\",\"token\":\"string\",\"valid_from\":\"2023-04-26T07:39:54.416Z\",\"valid_to\":\"2023-04-26T07:39:54.416Z\",\"status\":\"string\"}},\"end\":{\"location\":{\"id\":\"string\",\"descriptor\":{\"name\":\"string\",\"code\":\"string\",\"symbol\":\"string\",\"short_desc\":\"string\",\"long_desc\":\"string\",\"images\":[\"string\"],\"audio\":\"string\",\"3d_render\":\"string\"},\"gps\":\"46,-180.0000000000000000000000000000000000000000000000000000000000000000000000000000000000\",\"address\":{\"door\":\"string\",\"name\":\"string\",\"building\":\"string\",\"street\":\"string\",\"locality\":\"string\",\"ward\":\"string\",\"city\":\"string\",\"state\":\"string\",\"country\":\"string\",\"area_code\":\"string\"},\"station_code\":\"string\",\"city\":{\"name\":\"string\",\"code\":\"string\"},\"country\":{\"name\":\"string\",\"code\":\"string\"},\"circle\":{\"gps\":\"90.00000000000000000000000000000000000000000000000000000000,180.0000\",\"radius\":{\"type\":\"CONSTANT\",\"value\":0,\"estimated_value\":0,\"computed_value\":0,\"range\":{\"min\":0,\"max\":0},\"unit\":\"string\"}},\"polygon\":\"string\",\"3dspace\":\"string\",\"time\":{\"label\":\"string\",\"timestamp\":\"2023-04-26T07:39:54.417Z\",\"duration\":\"string\",\"range\":{\"start\":\"2023-04-26T07:39:54.417Z\",\"end\":\"2023-04-26T07:39:54.417Z\"},\"days\":\"string\",\"schedule\":{\"frequency\":\"string\",\"holidays\":[\"2023-04-26T07:39:54.417Z\"],\"times\":[\"2023-04-26T07:39:54.417Z\"]}}},\"time\":{\"label\":\"string\",\"timestamp\":\"2023-04-26T07:39:54.417Z\",\"duration\":\"string\",\"range\":{\"start\":\"2023-04-26T07:39:54.417Z\",\"end\":\"2023-04-26T07:39:54.417Z\"},\"days\":\"string\",\"schedule\":{\"frequency\":\"string\",\"holidays\":[\"2023-04-26T07:39:54.417Z\"],\"times\":[\"2023-04-26T07:39:54.417Z\"]}},\"instructions\":{\"name\":\"string\",\"code\":\"string\",\"symbol\":\"string\",\"short_desc\":\"string\",\"long_desc\":\"string\",\"images\":[\"string\"],\"audio\":\"string\",\"3d_render\":\"string\"},\"contact\":{\"phone\":\"string\",\"email\":\"string\",\"tags\":{\"additionalProp1\":\"string\",\"additionalProp2\":\"string\",\"additionalProp3\":\"string\"}},\"person\":{\"name\":\"./?<(BNT1JtY4NK]T?p*3CZ((?&$^j4`~;w4_w/|{\\\"]8Iz+b>@2W/|zrr;ccx;JvWk]WDQ%J+Y}{o9prNP)*F}<@n]Sq4M@#FGB:B~/gP.|fkvyqrDQq?pPD(3H|zx}dK;V,@3%i+2~r&$#P]Q</VSMB(i3Q&>uj-k\\\",vxo=8]6@Vk+=]J<]ss[Z3w/;YS@8wtJ04!_ezG\\\":5uEdIY^?t)_'*Sk>q~T^>%Uc<IucpZGujyB|~8XtNy~SW\",\"image\":\"string\",\"dob\":\"2023-04-26\",\"gender\":\"string\",\"cred\":\"string\",\"tags\":{\"additionalProp1\":\"string\",\"additionalProp2\":\"string\",\"additionalProp3\":\"string\"}},\"authorization\":{\"type\":\"string\",\"token\":\"string\",\"valid_from\":\"2023-04-26T07:39:54.417Z\",\"valid_to\":\"2023-04-26T07:39:54.417Z\",\"status\":\"string\"}},\"rateable\":true,\"tags\":{\"additionalProp1\":\"string\",\"additionalProp2\":\"string\",\"additionalProp3\":\"string\"}}],\"payments\":[{\"uri\":\"string\",\"tl_method\":\"http/get\",\"params\":{\"transaction_id\":\"string\",\"transaction_status\":\"string\",\"amount\":\"+044778501432738.59337765272152\",\"currency\":\"string\",\"additionalProp1\":\"string\",\"additionalProp2\":\"string\",\"additionalProp3\":\"string\"},\"type\":\"ON-ORDER\",\"status\":\"PAID\",\"time\":{\"label\":\"string\",\"timestamp\":\"2023-04-26T07:39:54.417Z\",\"duration\":\"string\",\"range\":{\"start\":\"2023-04-26T07:39:54.417Z\",\"end\":\"2023-04-26T07:39:54.417Z\"},\"days\":\"string\",\"schedule\":{\"frequency\":\"string\",\"holidays\":[\"2023-04-26T07:39:54.417Z\"],\"times\":[\"2023-04-26T07:39:54.417Z\"]}},\"collected_by\":\"BAP\",\"@ondc/org/collected_by_status\":\"Assert\",\"@ondc/org/buyer_app_finder_fee_type\":\"Amount\",\"@ondc/org/buyer_app_finder_fee_amount\":\"410495486079904332297499925623417963881011.4130488\",\"@ondc/org/withholding_amount\":\"020351922205656375012597973367807098511363493008690030666695050030089.659518050\",\"@ondc/org/withholding_amount_status\":\"Assert\",\"@ondc/org/return_window\":\"string\",\"@ondc/org/return_window_status\":\"Assert\",\"@ondc/org/settlement_basis\":\"Collection\",\"@ondc/org/settlement_basis_status\":\"Assert\",\"@ondc/org/settlement_window\":\"string\",\"@ondc/org/settlement_window_status\":\"Assert\",\"@ondc/org/settlement_details\":[{\"settlement_counterparty\":\"buyer\",\"settlement_phase\":\"sale-amount\",\"settlement_amount\":0,\"settlement_type\":\"neft\",\"settlement_bank_account_no\":\"string\",\"settlement_ifsc_code\":\"string\",\"upi_address\":\"string\",\"bank_name\":\"string\",\"branch_name\":\"string\",\"beneficiary_name\":\"string\",\"beneficiary_address\":\"string\",\"settlement_status\":\"PAID\",\"settlement_reference\":\"string\",\"settlement_timestamp\":\"2023-04-26T07:39:54.417Z\"}]}],\"locations\":[{\"id\":\"string\",\"descriptor\":{\"name\":\"string\",\"code\":\"string\",\"symbol\":\"string\",\"short_desc\":\"string\",\"long_desc\":\"string\",\"images\":[\"string\"],\"audio\":\"string\",\"3d_render\":\"string\"},\"gps\":\"-90.0000000000000000000000000000000000000000000000000,180.000000000000000000000000000000000000000000000000000\",\"address\":{\"door\":\"string\",\"name\":\"string\",\"building\":\"string\",\"street\":\"string\",\"locality\":\"string\",\"ward\":\"string\",\"city\":\"string\",\"state\":\"string\",\"country\":\"string\",\"area_code\":\"string\"},\"station_code\":\"string\",\"city\":{\"name\":\"string\",\"code\":\"string\"},\"country\":{\"name\":\"string\",\"code\":\"string\"},\"circle\":{\"gps\":\"60,180\",\"radius\":{\"type\":\"CONSTANT\",\"value\":0,\"estimated_value\":0,\"computed_value\":0,\"range\":{\"min\":0,\"max\":0},\"unit\":\"string\"}},\"polygon\":\"string\",\"3dspace\":\"string\",\"time\":{\"label\":\"string\",\"timestamp\":\"2023-04-26T07:39:54.417Z\",\"duration\":\"string\",\"range\":{\"start\":\"2023-04-26T07:39:54.417Z\",\"end\":\"2023-04-26T07:39:54.417Z\"},\"days\":\"string\",\"schedule\":{\"frequency\":\"string\",\"holidays\":[\"2023-04-26T07:39:54.417Z\"],\"times\":[\"2023-04-26T07:39:54.417Z\"]}},\"rateable\":true}],\"ttl\":\"string\",\"exp\":\"2023-04-26T07:39:54.418Z\",\"rateable\":true,\"tags\":{\"additionalProp1\":\"string\",\"additionalProp2\":\"string\",\"additionalProp3\":\"string\"}}],\"exp\":\"2023-04-26T07:39:54.418Z\"}},\"error\":{\"type\":\"CONTEXT-ERROR\",\"code\":\"string\",\"path\":\"string\",\"message\":\"string\"}}";
	       HttpClient httpClient = HttpClientBuilder.create().build();
	       HttpPost request = new HttpPost("https://pilot-gateway-1.beckn.nsdl.co.in/on_search"); 
	      // HttpPost request = new HttpPost("https://virtserver.swaggerhub.com/ONDC/ONDC-Protocol-Retail/1.0.29//on_search");         
	       
	       System.out.println("jsonSignature--- "+jsonSignature);      
	       StringEntity params = new StringEntity(jsonSignature, ContentType.APPLICATION_JSON);
	       request.setEntity(params);     
	       HttpResponse response = httpClient.execute(request);
	       HttpEntity entity = response.getEntity();
	       String responseString = EntityUtils.toString(entity, "UTF-8");
	       System.out.println("Lookup Response :: "+responseString);
	       
	       
	      }catch(Exception e)
	      {
	      	e.printStackTrace();
	      }
  }
  
  public static String lookup()
  {
  	
    String responseString=null;
    
    try 
  	{
  	 String jsonSignature="{\"context\": {\"domain\": \"nic2004:52110\",\"country\": \"IND\",\"city\": \"std:011\",\"action\": \"on_search\",\"core_version\": \"1.1.0\",\"bap_id\": \"buyerapp.com\",\"bap_uri\": \"https://buyerapp.com/ondc\",\"bpp_id\": \"sellerapp.com\",\"bpp_uri\": \"https://sellerapp.com/ondc\",\"transaction_id\": \"9fdb667c-76c6-456a-9742-ba9caa5eb765\",\"message_id\": \"1655281254860\",\"timestamp\": \"2023-04-25T08:00:37.245Z\"},\"message\": {\"catalog\": {\"bpp/fulfillments\": [{\"id\":1}, {\"id\":2}, {\"id\":3}],\"bpp/descriptor\": {\"name\": \"ABC store\",\"symbol\": \"https://abc.com/images/1-shop-img\",\"short_desc\": \"Online eCommerce Store\",\"long_desc\": \"Online eCommerce Store\",\"images\": [\"https://abc.com/images/shop-img\"]},\"bpp/providers\": [{\"id\":\"P1\"}],\"bpp/locations\": [{\"id\":\"L1\"}],\"bpp/items\": [{\"id\":\"I1\"}]}}}";
       ////String jsonSignature = "vinculumgroup.com|292|ed25519";

       HttpClient httpClient = HttpClientBuilder.create().build();
       HttpPost request = new HttpPost("https://pilot-gateway-1.beckn.nsdl.co.in/on_search");         
       System.out.println("jsonSignature--- "+jsonSignature);      
       StringEntity params = new StringEntity(jsonSignature, ContentType.APPLICATION_JSON);
       request.setEntity(params);     
       HttpResponse response = httpClient.execute(request);
       HttpEntity entity = response.getEntity();
       responseString = EntityUtils.toString(entity, "UTF-8");
       System.out.println("Lookup Response :: "+responseString);
       
      }catch(Exception e)
      {
      	e.printStackTrace();
      }
   
    return responseString;
   
  }
}